<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.147.7"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta property="og:url" content="https://booiris.space/posts/linux/linux-install/"><link rel=canonical href=https://booiris.space/posts/linux/linux-install/><link rel=apple-touch-icon href=/avatar.svg><link rel=icon href=/avatar.svg><link rel=shortcut href=/avatar.svg><link rel=alternate type=application/atom+xml href=https://booiris.space/index.xml title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/booiris.space\/"},"articleSection":"posts","name":"linux-install","headline":"linux-install","description":"WSL wsl --list 卸载对应的系统 wsl --unregister Ubuntu 设置默认系统 wslconfig \/setdefault Name 修改默认用户，主机名，修改\/etc\/wsl.conf文件 [user] default=youruser [network] hostname=yourhostname Ubuntu 换源 备份sources.list文件 sudo cp \/etc\/apt\/sources.list \/etc\/apt\/sources.list.bak 编辑\/etc\/apt\/sources.list文件 sudo vim \/etc\/apt\/sources.list 在文件前面添加下面的条目(阿里源) deb http:\/\/mirrors.aliyun.com\/ubuntu\/ focal main restricted universe multiverse deb-src http:\/\/mirrors.aliyun.com\/ubuntu\/ focal main restricted universe multiverse deb http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-security main restricted universe multiverse deb-src http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-security main restricted universe multiverse deb http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-updates main restricted universe multiverse deb-src http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-updates main restricted universe multiverse deb http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-proposed main restricted universe multiverse deb-src http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-proposed main restricted universe multiverse deb http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-backports main restricted universe multiverse deb-src http:\/\/mirrors.aliyun.com\/ubuntu\/ focal-backports main restricted universe multiverse 更新 sudo apt update oh-my-bash 美化 安装 bash -c \u0026#34;$(curl -fsSL https:\/\/raw.githubusercontent.com\/ohmybash\/oh-my-bash\/master\/tools\/install.sh)\u0026#34; 安装软件 安装i3wm 安装 sudo apt install i3 同步最新仓库 sudo apt install ca-certificates \/usr\/lib\/apt\/apt-helper download-file https:\/\/debian.sur5r.net\/i3\/pool\/main\/s\/sur5r-keyring\/sur5r-keyring_2021.02.02_all.deb keyring.deb SHA256:cccfb1dd7d6b1b6a137bb96ea5b5eef18a0a4a6df1d6c0c37832025d2edaa710 sudo dpkg -i .\/keyring.deb sudo sh -c \u0026#34;echo \u0026#34;deb http:\/\/debian.sur5r.net\/i3\/ $(grep \u0026#39;^DISTRIB_CODENAME=\u0026#39; \/etc\/lsb-release | cut -f2 -d=) universe\u0026#34; \u0026gt; \/etc\/apt\/sources.list.d\/sur5r-i3.list\u0026#34; sudo apt update 安装tigervnc 安装 sudo apt install tigervnc-standalone-server 启动 vncserver -SecurityTypes=None -localhost=no --I-KNOW-THIS-IS-INSECURE :1 -dpi 150 -geometry=1920x1080 显示当前ip ip addr | grep eth0 安装feh、xfce4-terminal、rofi、polybar sudo apt install feh xfce4-terminal rofi polybar 安装picom sudo apt install libxext-dev libxcb1-dev libxcb-damage0-dev libxcb-xfixes0-dev libxcb-shape0-dev libxcb-render-util0-dev libxcb-render0-dev libxcb-randr0-dev libxcb-composite0-dev libxcb-image0-dev libxcb-present-dev libxcb-xinerama0-dev libxcb-glx0-dev libpixman-1-dev libdbus-1-dev libconfig-dev libgl1-mesa-dev libpcre2-dev libpcre3-dev libevdev-dev uthash-dev libev-dev libx11-xcb-dev meson gcc cd git clone https:\/\/github.com\/yshui\/picom.git --depth=1 cd picom git submodule update --init --recursive meson --buildtype=release . build ninja -C build sudo ninja -C build install 安装google 下载安装包 wget https:\/\/dl.google.com\/linux\/direct\/google-chrome-stable_current_amd64.deb 安装 sudo apt install .\/google-chrome-stable_current_amd64.deb 加载字体 sudo mkfontscale sudo fc-cache -fv ARCH 创建用户 useradd -m -G wheel username # 请自行替换 username 为你的用户名 passwd username # 请自行替换 username 为你的用户名 vim \/etc\/sudoers # 去掉# %wheel ALL=(ALL)ALL 设置默认用户 .\/Arch.exe config --default-user booiris 换源 sudo pacman-key --init sudo pacman-key --populate archlinux cp \/etc\/pacman.d\/mirrorlist \/etc\/pacman.d\/mirrorlist.backup sudo vim \/etc\/pacman.d\/mirrorlist # 清华大学 Server = https:\/\/mirrors.tuna.tsinghua.edu.cn\/archlinux\/$repo\/os\/$arch ## 163 Server = http:\/\/mirrors.163.com\/archlinux\/$repo\/os\/$arch ## aliyun Server = http:\/\/mirrors.aliyun.com\/archlinux\/$repo\/os\/$arch cp \/etc\/pacman.conf \/etc\/pacman.conf.backup sudo vim \/etc\/pacman.conf [archlinuxcn] # The Chinese Arch Linux communities packages. # SigLevel = Optional TrustedOnly SigLevel = Optional TrustAll # 清华大学 Server = https:\/\/mirrors.tuna.tsinghua.edu.cn\/archlinuxcn\/$arch sudo pacman -Syyu YAY 安装 sudo pacman -S yay 换源 yay --aururl \u0026#34;https:\/\/aur.tuna.tsinghua.edu.cn\u0026#34; --save 安装软件 yay -S base-devel yay -S i3 tigervnc sublime-text-4 google-chrome xfce4-terminal tighervnc 配置 用 vncpasswd 创建密码，它会将哈希处理之后的密码存储在 ~\/.vnc\/passwd。 编辑 \/etc\/tigervnc\/vncserver.users 来定义用户映射 创建 ~\/.vnc\/config，其中至少要有一行定义会话的类型，比如 session=foo （将foo替换为你想要运行的桌面环境）。你可以通过查看 \/usr\/share\/xsessions\/ 里的 .desktop 文件来知道有哪些桌面环境在当前系统上可以使用。 session=i3 geometry=1920x1080 dpi=150 alwaysshared 语言 sudo vim \/etc\/locale.gen sudo locale-gen 字体 yay -S noto-fonts-emoji adobe-source-han-serif-cn-fonts adobe-source-han-serif-tw-fonts adobe-source-han-sans-cn-fonts adobe-source-han-sans-tw-fonts nerd-fonts-jetbrains-mono ttf-iosevka-nerd ttf-material-icons-git papirus-icon-theme 桌面 yay -S polybar rofi feh picom xss-lock dbus-x11 google-chrome yay -S fcitx5-im fcitx5-chinese-addons 创建.Xresources\n","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2022","datePublished":"2022-05-01 23:30:29 \u002b0000 UTC","dateModified":"2022-05-01 23:30:29 \u002b0000 UTC","url":"https:\/\/booiris.space\/posts\/linux\/linux-install\/","keywords":[]}</script><title>linux-install</title><meta property="og:title" content="linux-install"><meta property="og:type" content="article"><meta property="og:description" content='WSL wsl --list 卸载对应的系统 wsl --unregister Ubuntu 设置默认系统 wslconfig /setdefault Name 修改默认用户，主机名，修改/etc/wsl.conf文件 [user] default=youruser [network] hostname=yourhostname Ubuntu 换源 备份sources.list文件 sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak 编辑/etc/apt/sources.list文件 sudo vim /etc/apt/sources.list 在文件前面添加下面的条目(阿里源) deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse 更新 sudo apt update oh-my-bash 美化 安装 bash -c "$(curl -fsSL https://raw.githubusercontent.com/ohmybash/oh-my-bash/master/tools/install.sh)" 安装软件 安装i3wm 安装 sudo apt install i3 同步最新仓库 sudo apt install ca-certificates /usr/lib/apt/apt-helper download-file https://debian.sur5r.net/i3/pool/main/s/sur5r-keyring/sur5r-keyring_2021.02.02_all.deb keyring.deb SHA256:cccfb1dd7d6b1b6a137bb96ea5b5eef18a0a4a6df1d6c0c37832025d2edaa710 sudo dpkg -i ./keyring.deb sudo sh -c "echo "deb http://debian.sur5r.net/i3/ $(grep &#39;^DISTRIB_CODENAME=&#39; /etc/lsb-release | cut -f2 -d=) universe" > /etc/apt/sources.list.d/sur5r-i3.list" sudo apt update 安装tigervnc 安装 sudo apt install tigervnc-standalone-server 启动 vncserver -SecurityTypes=None -localhost=no --I-KNOW-THIS-IS-INSECURE :1 -dpi 150 -geometry=1920x1080 显示当前ip ip addr | grep eth0 安装feh、xfce4-terminal、rofi、polybar sudo apt install feh xfce4-terminal rofi polybar 安装picom sudo apt install libxext-dev libxcb1-dev libxcb-damage0-dev libxcb-xfixes0-dev libxcb-shape0-dev libxcb-render-util0-dev libxcb-render0-dev libxcb-randr0-dev libxcb-composite0-dev libxcb-image0-dev libxcb-present-dev libxcb-xinerama0-dev libxcb-glx0-dev libpixman-1-dev libdbus-1-dev libconfig-dev libgl1-mesa-dev libpcre2-dev libpcre3-dev libevdev-dev uthash-dev libev-dev libx11-xcb-dev meson gcc cd git clone https://github.com/yshui/picom.git --depth=1 cd picom git submodule update --init --recursive meson --buildtype=release . build ninja -C build sudo ninja -C build install 安装google 下载安装包 wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb 安装 sudo apt install ./google-chrome-stable_current_amd64.deb 加载字体 sudo mkfontscale sudo fc-cache -fv ARCH 创建用户 useradd -m -G wheel username # 请自行替换 username 为你的用户名 passwd username # 请自行替换 username 为你的用户名 vim /etc/sudoers # 去掉# %wheel ALL=(ALL)ALL 设置默认用户 ./Arch.exe config --default-user booiris 换源 sudo pacman-key --init sudo pacman-key --populate archlinux cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup sudo vim /etc/pacman.d/mirrorlist # 清华大学 Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch ## 163 Server = http://mirrors.163.com/archlinux/$repo/os/$arch ## aliyun Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch cp /etc/pacman.conf /etc/pacman.conf.backup sudo vim /etc/pacman.conf [archlinuxcn] # The Chinese Arch Linux communities packages. # SigLevel = Optional TrustedOnly SigLevel = Optional TrustAll # 清华大学 Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch sudo pacman -Syyu YAY 安装 sudo pacman -S yay 换源 yay --aururl "https://aur.tuna.tsinghua.edu.cn" --save 安装软件 yay -S base-devel yay -S i3 tigervnc sublime-text-4 google-chrome xfce4-terminal tighervnc 配置 用 vncpasswd 创建密码，它会将哈希处理之后的密码存储在 ~/.vnc/passwd。 编辑 /etc/tigervnc/vncserver.users 来定义用户映射 创建 ~/.vnc/config，其中至少要有一行定义会话的类型，比如 session=foo （将foo替换为你想要运行的桌面环境）。你可以通过查看 /usr/share/xsessions/ 里的 .desktop 文件来知道有哪些桌面环境在当前系统上可以使用。 session=i3 geometry=1920x1080 dpi=150 alwaysshared 语言 sudo vim /etc/locale.gen sudo locale-gen 字体 yay -S noto-fonts-emoji adobe-source-han-serif-cn-fonts adobe-source-han-serif-tw-fonts adobe-source-han-sans-cn-fonts adobe-source-han-sans-tw-fonts nerd-fonts-jetbrains-mono ttf-iosevka-nerd ttf-material-icons-git papirus-icon-theme 桌面 yay -S polybar rofi feh picom xss-lock dbus-x11 google-chrome yay -S fcitx5-im fcitx5-chinese-addons 创建.Xresources
'><meta name=description content='WSL wsl --list 卸载对应的系统 wsl --unregister Ubuntu 设置默认系统 wslconfig /setdefault Name 修改默认用户，主机名，修改/etc/wsl.conf文件 [user] default=youruser [network] hostname=yourhostname Ubuntu 换源 备份sources.list文件 sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak 编辑/etc/apt/sources.list文件 sudo vim /etc/apt/sources.list 在文件前面添加下面的条目(阿里源) deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse 更新 sudo apt update oh-my-bash 美化 安装 bash -c "$(curl -fsSL https://raw.githubusercontent.com/ohmybash/oh-my-bash/master/tools/install.sh)" 安装软件 安装i3wm 安装 sudo apt install i3 同步最新仓库 sudo apt install ca-certificates /usr/lib/apt/apt-helper download-file https://debian.sur5r.net/i3/pool/main/s/sur5r-keyring/sur5r-keyring_2021.02.02_all.deb keyring.deb SHA256:cccfb1dd7d6b1b6a137bb96ea5b5eef18a0a4a6df1d6c0c37832025d2edaa710 sudo dpkg -i ./keyring.deb sudo sh -c "echo "deb http://debian.sur5r.net/i3/ $(grep &#39;^DISTRIB_CODENAME=&#39; /etc/lsb-release | cut -f2 -d=) universe" > /etc/apt/sources.list.d/sur5r-i3.list" sudo apt update 安装tigervnc 安装 sudo apt install tigervnc-standalone-server 启动 vncserver -SecurityTypes=None -localhost=no --I-KNOW-THIS-IS-INSECURE :1 -dpi 150 -geometry=1920x1080 显示当前ip ip addr | grep eth0 安装feh、xfce4-terminal、rofi、polybar sudo apt install feh xfce4-terminal rofi polybar 安装picom sudo apt install libxext-dev libxcb1-dev libxcb-damage0-dev libxcb-xfixes0-dev libxcb-shape0-dev libxcb-render-util0-dev libxcb-render0-dev libxcb-randr0-dev libxcb-composite0-dev libxcb-image0-dev libxcb-present-dev libxcb-xinerama0-dev libxcb-glx0-dev libpixman-1-dev libdbus-1-dev libconfig-dev libgl1-mesa-dev libpcre2-dev libpcre3-dev libevdev-dev uthash-dev libev-dev libx11-xcb-dev meson gcc cd git clone https://github.com/yshui/picom.git --depth=1 cd picom git submodule update --init --recursive meson --buildtype=release . build ninja -C build sudo ninja -C build install 安装google 下载安装包 wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb 安装 sudo apt install ./google-chrome-stable_current_amd64.deb 加载字体 sudo mkfontscale sudo fc-cache -fv ARCH 创建用户 useradd -m -G wheel username # 请自行替换 username 为你的用户名 passwd username # 请自行替换 username 为你的用户名 vim /etc/sudoers # 去掉# %wheel ALL=(ALL)ALL 设置默认用户 ./Arch.exe config --default-user booiris 换源 sudo pacman-key --init sudo pacman-key --populate archlinux cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup sudo vim /etc/pacman.d/mirrorlist # 清华大学 Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch ## 163 Server = http://mirrors.163.com/archlinux/$repo/os/$arch ## aliyun Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch cp /etc/pacman.conf /etc/pacman.conf.backup sudo vim /etc/pacman.conf [archlinuxcn] # The Chinese Arch Linux communities packages. # SigLevel = Optional TrustedOnly SigLevel = Optional TrustAll # 清华大学 Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch sudo pacman -Syyu YAY 安装 sudo pacman -S yay 换源 yay --aururl "https://aur.tuna.tsinghua.edu.cn" --save 安装软件 yay -S base-devel yay -S i3 tigervnc sublime-text-4 google-chrome xfce4-terminal tighervnc 配置 用 vncpasswd 创建密码，它会将哈希处理之后的密码存储在 ~/.vnc/passwd。 编辑 /etc/tigervnc/vncserver.users 来定义用户映射 创建 ~/.vnc/config，其中至少要有一行定义会话的类型，比如 session=foo （将foo替换为你想要运行的桌面环境）。你可以通过查看 /usr/share/xsessions/ 里的 .desktop 文件来知道有哪些桌面环境在当前系统上可以使用。 session=i3 geometry=1920x1080 dpi=150 alwaysshared 语言 sudo vim /etc/locale.gen sudo locale-gen 字体 yay -S noto-fonts-emoji adobe-source-han-serif-cn-fonts adobe-source-han-serif-tw-fonts adobe-source-han-sans-cn-fonts adobe-source-han-sans-tw-fonts nerd-fonts-jetbrains-mono ttf-iosevka-nerd ttf-material-icons-git papirus-icon-theme 桌面 yay -S polybar rofi feh picom xss-lock dbus-x11 google-chrome yay -S fcitx5-im fcitx5-chinese-addons 创建.Xresources
'><meta property="og:locale" content="cn"><meta property="og:image" content="/avatar.svg"><link rel=stylesheet href=/css/index.min.css><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.min.css><link href=/%20index.xml rel=alternate type=application/rss+xml title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css?family=Bree+Serif|Bungee+Shade" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css></head><body><article class="post 简体中文" id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class=header-title><a href=/>HELLO WORLD</a></div><div class=header-subtitle>Live long and prosper.</div></header><div class="row end-md header-items"><div class=header-item><a href=/about target=_blank>About</a></div><div class=header-item><a href=https://github.com/booiris target=_blank>Github</a></div><div class=header-item><a href=/memos target=_blank>Memos</a></div></div><div class=row></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>linux-install</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2022-05-01 23:30:29 UTC">01 May 2022</time></div><div class=col-xs-6></div></div></header><div class="post-content markdown-body"><h1 id=wsl>WSL</h1><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>	wsl --list
</span></span></code></pre></div><ul><li>卸载对应的系统</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>	wsl --unregister Ubuntu
</span></span></code></pre></div><ul><li>设置默认系统</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>wslconfig /setdefault Name
</span></span></code></pre></div><ul><li>修改默认用户，主机名，修改/etc/wsl.conf文件</li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#0550ae>[</span>user<span style=color:#0550ae>]</span>
</span></span><span style=display:flex><span><span style=color:#953800>default</span><span style=color:#0550ae>=</span>youruser
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#0550ae>[</span>network<span style=color:#0550ae>]</span>
</span></span><span style=display:flex><span><span style=color:#953800>hostname</span><span style=color:#0550ae>=</span>yourhostname
</span></span></code></pre></div><h2 id=ubuntu>Ubuntu</h2><h3 id=换源>换源</h3><ol><li>备份<code>sources.list</code>文件</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
</span></span></code></pre></div><ol start=2><li>编辑<code>/etc/apt/sources.list</code>文件</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo vim /etc/apt/sources.list
</span></span></code></pre></div><ol start=3><li>在文件前面添加下面的条目(阿里源)</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
</span></span><span style=display:flex><span>deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</span></span><span style=display:flex><span>deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
</span></span></code></pre></div><ol start=4><li>更新</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo apt update
</span></span></code></pre></div><h3 id=oh-my-bash-美化>oh-my-bash 美化</h3><ol><li>安装</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>bash <span style=color:#0550ae>-</span>c <span style=color:#0a3069>&#34;$(curl -fsSL https://raw.githubusercontent.com/ohmybash/oh-my-bash/master/tools/install.sh)&#34;</span>
</span></span></code></pre></div><h3 id=安装软件>安装软件</h3><h4 id=安装i3wm>安装i3wm</h4><ol><li>安装</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo apt install i3
</span></span></code></pre></div><ol start=2><li>同步最新仓库</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>sudo apt install ca<span style=color:#0550ae>-</span>certificates
</span></span><span style=display:flex><span><span style=color:#0550ae>/</span>usr<span style=color:#0550ae>/</span>lib<span style=color:#0550ae>/</span>apt<span style=color:#0550ae>/</span>apt<span style=color:#0550ae>-</span>helper download<span style=color:#0550ae>-</span>file https<span style=color:#1f2328>:</span><span style=color:#0550ae>//</span>debian<span style=color:#0550ae>.</span>sur5r<span style=color:#0550ae>.</span>net<span style=color:#0550ae>/</span>i3<span style=color:#0550ae>/</span>pool<span style=color:#0550ae>/</span>main<span style=color:#0550ae>/</span>s<span style=color:#0550ae>/</span>sur5r<span style=color:#0550ae>-</span>keyring<span style=color:#0550ae>/</span>sur5r<span style=color:#0550ae>-</span>keyring_2021<span style=color:#0550ae>.</span><span style=color:#0550ae>02.02</span>_all<span style=color:#0550ae>.</span>deb keyring<span style=color:#0550ae>.</span>deb SHA256<span style=color:#1f2328>:</span>cccfb1dd7d6b1b6a137bb96ea5b5eef18a0a4a6df1d6c0c37832025d2edaa710
</span></span><span style=display:flex><span>sudo dpkg <span style=color:#0550ae>-</span>i <span style=color:#0550ae>./</span>keyring<span style=color:#0550ae>.</span>deb
</span></span><span style=display:flex><span>sudo sh <span style=color:#0550ae>-</span>c <span style=color:#0a3069>&#34;echo &#34;</span>deb http<span style=color:#1f2328>:</span><span style=color:#0550ae>//</span>debian<span style=color:#0550ae>.</span>sur5r<span style=color:#0550ae>.</span>net<span style=color:#0550ae>/</span>i3<span style=color:#0550ae>/</span> <span style=color:#0550ae>$</span><span style=color:#1f2328>(</span>grep <span style=color:#0a3069>&#39;^DISTRIB_CODENAME=&#39;</span> <span style=color:#0550ae>/</span>etc<span style=color:#0550ae>/</span>lsb<span style=color:#0550ae>-</span>release <span style=color:#0550ae>|</span> cut <span style=color:#0550ae>-</span>f2 <span style=color:#0550ae>-</span>d<span style=color:#0550ae>=</span><span style=color:#1f2328>)</span> universe<span style=color:#0a3069>&#34; &gt; /etc/apt/sources.list.d/sur5r-i3.list&#34;</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span></code></pre></div><h4 id=安装tigervnc>安装tigervnc</h4><ol><li>安装</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo apt install tigervnc-standalone-server
</span></span></code></pre></div><ol start=2><li>启动</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>vncserver -SecurityTypes=None -localhost=no --I-KNOW-THIS-IS-INSECURE :1 -dpi 150 -geometry=1920x1080
</span></span></code></pre></div><ol start=3><li>显示当前ip</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>ip addr | grep eth0
</span></span></code></pre></div><h4 id=安装fehxfce4-terminalrofipolybar>安装feh、xfce4-terminal、rofi、polybar</h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo apt install feh xfce4-terminal rofi polybar
</span></span></code></pre></div><h4 id=安装picom>安装picom</h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo apt install libxext-dev libxcb1-dev libxcb-damage0-dev libxcb-xfixes0-dev libxcb-shape0-dev libxcb-render-util0-dev libxcb-render0-dev libxcb-randr0-dev libxcb-composite0-dev libxcb-image0-dev libxcb-present-dev libxcb-xinerama0-dev libxcb-glx0-dev libpixman-1-dev libdbus-1-dev libconfig-dev libgl1-mesa-dev libpcre2-dev libpcre3-dev libevdev-dev uthash-dev libev-dev libx11-xcb-dev meson gcc
</span></span><span style=display:flex><span>cd
</span></span><span style=display:flex><span>git clone https://github.com/yshui/picom.git --depth=1
</span></span><span style=display:flex><span>cd picom
</span></span><span style=display:flex><span>git submodule update --init --recursive
</span></span><span style=display:flex><span>meson --buildtype=release . build
</span></span><span style=display:flex><span>ninja -C build
</span></span><span style=display:flex><span>sudo ninja -C build install
</span></span></code></pre></div><h4 id=安装google>安装google</h4><ol><li>下载安装包</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
</span></span></code></pre></div><ol start=2><li>安装</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo apt install ./google-chrome-stable_current_amd64.deb
</span></span></code></pre></div><h4 id=加载字体>加载字体</h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo mkfontscale
</span></span><span style=display:flex><span>sudo fc-cache -fv
</span></span></code></pre></div><h2 id=arch>ARCH</h2><h3 id=创建用户>创建用户</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>useradd -m -G wheel username
</span></span><span style=display:flex><span># 请自行替换 username 为你的用户名
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>passwd username
</span></span><span style=display:flex><span># 请自行替换 username 为你的用户名
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>vim /etc/sudoers
</span></span><span style=display:flex><span># 去掉# %wheel ALL=(ALL)ALL
</span></span></code></pre></div><h3 id=设置默认用户>设置默认用户</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>./Arch.exe config --default-user booiris
</span></span></code></pre></div><h3 id=换源-1>换源</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo pacman-key --init
</span></span><span style=display:flex><span>sudo pacman-key --populate archlinux
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup
</span></span><span style=display:flex><span>sudo vim /etc/pacman.d/mirrorlist
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># 清华大学
</span></span><span style=display:flex><span>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
</span></span><span style=display:flex><span>## 163
</span></span><span style=display:flex><span>Server = http://mirrors.163.com/archlinux/$repo/os/$arch
</span></span><span style=display:flex><span>## aliyun
</span></span><span style=display:flex><span>Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cp /etc/pacman.conf /etc/pacman.conf.backup
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo vim /etc/pacman.conf
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[archlinuxcn]
</span></span><span style=display:flex><span># The Chinese Arch Linux communities packages.
</span></span><span style=display:flex><span># SigLevel = Optional TrustedOnly
</span></span><span style=display:flex><span>SigLevel = Optional TrustAll
</span></span><span style=display:flex><span># 清华大学
</span></span><span style=display:flex><span>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo pacman -Syyu
</span></span></code></pre></div><h3 id=yay>YAY</h3><ol><li>安装</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo pacman -S yay
</span></span></code></pre></div><ol start=2><li>换源</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>yay --aururl &#34;https://aur.tuna.tsinghua.edu.cn&#34; --save
</span></span></code></pre></div><h3 id=安装软件-1>安装软件</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>yay -S base-devel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>yay -S i3 tigervnc sublime-text-4 google-chrome xfce4-terminal
</span></span></code></pre></div><h3 id=tighervnc-配置>tighervnc 配置</h3><ol><li>用 <code>vncpasswd</code> 创建密码，它会将哈希处理之后的密码存储在 <code>~/.vnc/passwd</code>。</li><li>编辑 <code>/etc/tigervnc/vncserver.users</code> 来定义用户映射</li><li>创建 <code>~/.vnc/config</code>，其中至少要有一行定义会话的类型，比如 <code>session=foo</code> （将foo替换为你想要运行的桌面环境）。你可以通过查看 <code>/usr/share/xsessions/</code> 里的 <code>.desktop</code> 文件来知道有哪些桌面环境在当前系统上可以使用。</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>session=i3
</span></span><span style=display:flex><span>geometry=1920x1080
</span></span><span style=display:flex><span>dpi=150
</span></span><span style=display:flex><span>alwaysshared
</span></span></code></pre></div><h3 id=语言>语言</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>sudo vim /etc/locale.gen
</span></span><span style=display:flex><span>sudo locale-gen
</span></span></code></pre></div><h3 id=字体>字体</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>yay -S noto-fonts-emoji adobe-source-han-serif-cn-fonts adobe-source-han-serif-tw-fonts adobe-source-han-sans-cn-fonts  adobe-source-han-sans-tw-fonts nerd-fonts-jetbrains-mono ttf-iosevka-nerd ttf-material-icons-git papirus-icon-theme
</span></span></code></pre></div><h3 id=桌面>桌面</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>yay -S polybar rofi feh picom xss-lock dbus-x11 google-chrome
</span></span><span style=display:flex><span>yay -S fcitx5-im fcitx5-chinese-addons 
</span></span></code></pre></div><p>创建<code>.Xresources</code></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>Xft.dpi: 120
</span></span><span style=display:flex><span>Xft.autohint: 0
</span></span><span style=display:flex><span>Xft.lcdfilter:  lcddefault
</span></span><span style=display:flex><span>Xft.hintstyle:  hintfull
</span></span><span style=display:flex><span>Xft.hinting: 1
</span></span><span style=display:flex><span>Xft.antialias: 1
</span></span><span style=display:flex><span>Xft.rgba: rgb
</span></span></code></pre></div><h3 id=rofi>rofi</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>mkdir ~/.local/share/rofi
</span></span><span style=display:flex><span>git clone https://github.com/Murzchnvok/rofi-collection.git --depth=1
</span></span><span style=display:flex><span>cp -r nord $HOME/.local/share/rofi/themes/
</span></span></code></pre></div><p>创建<code>config.rasi</code></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>//@theme &#34;/home/booiris/.local/share/rofi/themes/nord.rasi&#34;
</span></span><span style=display:flex><span>@theme &#34;/home/booiris/.local/share/rofi/themes/nord.rasi&#34;
</span></span></code></pre></div></div><div class="row middle-xs"><div class=col-xs-12><div class=post-tags><a href=/categories/linux/>linux</a></div></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=site-footer></div></div></div></article><script src=/%20js/lazyload.min.js></script><script>var lazyImage=new LazyLoad({container:document.getElementById("article")})</script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("disqus_thread"),t=new MutationObserver(function(n){n.forEach(function(){const s=e.getElementsByTagName("iframe");if(s.length>1){const n=s[1];for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n),t.disconnect()}})});t.observe(e,{childList:!0,subtree:!0})})</script></body></html>