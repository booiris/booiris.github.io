<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.148.1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta property="og:url" content="https://booiris.space/wiki/leetcode/646.-maximum-length-of-pair-chain/"><link rel=canonical href=https://booiris.space/wiki/leetcode/646.-maximum-length-of-pair-chain/><link rel=apple-touch-icon href=/avatar.svg><link rel=icon href=/avatar.svg><link rel=shortcut href=/avatar.svg><link rel=alternate type=application/atom+xml href=https://booiris.space/index.xml title><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/booiris.space\/"},"articleSection":"wiki","name":"646. Maximum Length of Pair Chain","headline":"646. Maximum Length of Pair Chain","description":"题意 给定一个数对集合，找出能够形成的最长数对链的长度。\n当且仅当 b \u0026lt; c 时，数对(c, d) 才可以跟在 (a, b) 后面。我们用这种形式来构造一个数对链。\n题解 类似最长上升子序列，创建一个数组维护每一个序列长度对应的最小末尾。对于二维数对的情况，可以先对其按第一个元素排序，然后对第二个元素进行dp。\n#[allow(dead_code)] #[allow(unused_imports)] use std::cmp::*; use std::collections::*; use std::ops::Bound::*; #[cfg(feature = \u0026#34;local\u0026#34;)] struct Solution; macro_rules! hashmap { ($( $key: expr =\u0026gt; $val: expr ),*) =\u0026gt; {{ let mut map = ::std::collections::HashMap::new(); $( map.insert($key, $val); )* map }} } impl Solution { pub fn find_longest_chain(mut pairs: Vec\u0026lt;Vec\u0026lt;i32\u0026gt;\u0026gt;) -\u0026gt; i32 { let mut key = vec![]; pairs.sort_unstable(); for x in pairs { let (s, e) = (x[0], x[1]); let index = key.partition_point(|x| x \u0026lt; \u0026amp;s); let index = key.get_mut(index); match index { Some(x) =\u0026gt; *x = min(*x, e), _ =\u0026gt; key.push(e), } } key.len() as i32 } } #[cfg(feature = \u0026#34;local\u0026#34;)] pub fn main() { let temp = vec![vec![1, 2], vec![7, 8], vec![4, 5]]; println!(\u0026#34;res:{}\u0026#34;, Solution::find_longest_chain(temp)); } ","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2022","datePublished":"2022-09-03 22:44:50 \u002b0000 UTC","dateModified":"2022-09-03 22:44:50 \u002b0000 UTC","url":"https:\/\/booiris.space\/wiki\/leetcode\/646.-maximum-length-of-pair-chain\/","keywords":[]}</script><title>646. Maximum Length of Pair Chain</title><meta property="og:title" content="646. Maximum Length of Pair Chain"><meta property="og:type" content="article"><meta property="og:description" content='题意 给定一个数对集合，找出能够形成的最长数对链的长度。
当且仅当 b < c 时，数对(c, d) 才可以跟在 (a, b) 后面。我们用这种形式来构造一个数对链。
题解 类似最长上升子序列，创建一个数组维护每一个序列长度对应的最小末尾。对于二维数对的情况，可以先对其按第一个元素排序，然后对第二个元素进行dp。
#[allow(dead_code)] #[allow(unused_imports)] use std::cmp::*; use std::collections::*; use std::ops::Bound::*; #[cfg(feature = "local")] struct Solution; macro_rules! hashmap { ($( $key: expr => $val: expr ),*) => {{ let mut map = ::std::collections::HashMap::new(); $( map.insert($key, $val); )* map }} } impl Solution { pub fn find_longest_chain(mut pairs: Vec<Vec<i32>>) -> i32 { let mut key = vec![]; pairs.sort_unstable(); for x in pairs { let (s, e) = (x[0], x[1]); let index = key.partition_point(|x| x < &amp;s); let index = key.get_mut(index); match index { Some(x) => *x = min(*x, e), _ => key.push(e), } } key.len() as i32 } } #[cfg(feature = "local")] pub fn main() { let temp = vec![vec![1, 2], vec![7, 8], vec![4, 5]]; println!("res:{}", Solution::find_longest_chain(temp)); } '><meta name=description content='题意 给定一个数对集合，找出能够形成的最长数对链的长度。
当且仅当 b < c 时，数对(c, d) 才可以跟在 (a, b) 后面。我们用这种形式来构造一个数对链。
题解 类似最长上升子序列，创建一个数组维护每一个序列长度对应的最小末尾。对于二维数对的情况，可以先对其按第一个元素排序，然后对第二个元素进行dp。
#[allow(dead_code)] #[allow(unused_imports)] use std::cmp::*; use std::collections::*; use std::ops::Bound::*; #[cfg(feature = "local")] struct Solution; macro_rules! hashmap { ($( $key: expr => $val: expr ),*) => {{ let mut map = ::std::collections::HashMap::new(); $( map.insert($key, $val); )* map }} } impl Solution { pub fn find_longest_chain(mut pairs: Vec<Vec<i32>>) -> i32 { let mut key = vec![]; pairs.sort_unstable(); for x in pairs { let (s, e) = (x[0], x[1]); let index = key.partition_point(|x| x < &amp;s); let index = key.get_mut(index); match index { Some(x) => *x = min(*x, e), _ => key.push(e), } } key.len() as i32 } } #[cfg(feature = "local")] pub fn main() { let temp = vec![vec![1, 2], vec![7, 8], vec![4, 5]]; println!("res:{}", Solution::find_longest_chain(temp)); } '><meta property="og:locale" content="cn"><meta property="og:image" content="/avatar.svg"><link rel=stylesheet href=/css/index.min.css><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.min.css><link href=/%20index.xml rel=alternate type=application/rss+xml title><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css?family=Bree+Serif|Bungee+Shade" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css></head><body><article class="post cn" id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class=header-title><a href=/>KEEP SEEKING</a></div><div class=header-subtitle>Live long and prosper.</div></header><div class="row end-md header-items"><div class=header-item><a href=/>Home</a></div><div class=header-item><a href=/about>About</a></div><div class=header-item><a href=https://github.com/booiris target=_blank>Github</a></div><div class=header-item><a href=/memos>Memos</a></div></div><div class=row></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>646. Maximum Length of Pair Chain</h1></header><div class="post-content markdown-body"><h2 id=题意>题意</h2><p>给定一个数对集合，找出能够形成的最长数对链的长度。</p><p>当且仅当 <code>b &lt; c</code> 时，数对<code>(c, d)</code> 才可以跟在 <code>(a, b)</code> 后面。我们用这种形式来构造一个数对链。</p><h2 id=题解>题解</h2><p>类似最长上升子序列，创建一个数组维护每一个序列长度对应的最小末尾。对于二维数对的情况，可以先对其按第一个元素排序，然后对第二个元素进行dp。</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#57606a>#[allow(dead_code)]</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#57606a>#[allow(unused_imports)]</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>use</span><span style=color:#fff> </span>std::cmp::<span style=color:#0550ae>*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>use</span><span style=color:#fff> </span>std::collections::<span style=color:#0550ae>*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>use</span><span style=color:#fff> </span>std::ops::Bound::<span style=color:#0550ae>*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#57606a>#[cfg(feature = </span><span style=color:#0a3069>&#34;local&#34;</span><span style=color:#57606a>)]</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>struct</span> <span style=color:#1f2328>Solution</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>macro_rules<span style=color:#0550ae>!</span><span style=color:#fff> </span>hashmap<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>(</span><span style=color:#57606a>$(</span><span style=color:#fff> </span><span style=color:#57606a>$key</span>: <span style=color:#1f2328>expr</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#57606a>$val</span>: <span style=color:#1f2328>expr</span><span style=color:#fff> </span><span style=color:#1f2328>),</span><span style=color:#0550ae>*</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#1f2328>{{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span><span style=color:#cf222e>let</span><span style=color:#fff> </span><span style=color:#cf222e>mut</span><span style=color:#fff> </span>map<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>::std::collections::HashMap::new<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span><span style=color:#57606a>$(</span><span style=color:#fff> </span>map<span style=color:#1f2328>.</span>insert<span style=color:#1f2328>(</span><span style=color:#57606a>$key</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#57606a>$val</span><span style=color:#1f2328>);</span><span style=color:#fff> </span><span style=color:#1f2328>)</span><span style=color:#0550ae>*</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span>map<span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>impl</span><span style=color:#fff> </span>Solution<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>pub</span><span style=color:#fff> </span><span style=color:#cf222e>fn</span> <span style=color:#6639ba>find_longest_chain</span><span style=color:#1f2328>(</span><span style=color:#cf222e>mut</span><span style=color:#fff> </span>pairs: <span style=color:#6639ba>Vec</span><span style=color:#0550ae>&lt;</span><span style=color:#6639ba>Vec</span><span style=color:#0550ae>&lt;</span><span style=color:#cf222e>i32</span><span style=color:#0550ae>&gt;&gt;</span><span style=color:#1f2328>)</span><span style=color:#fff> </span>-&gt; <span style=color:#cf222e>i32</span> <span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>let</span><span style=color:#fff> </span><span style=color:#cf222e>mut</span><span style=color:#fff> </span>key<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#6639ba>vec!</span><span style=color:#1f2328>[];</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>pairs<span style=color:#1f2328>.</span>sort_unstable<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span>x<span style=color:#fff> </span><span style=color:#cf222e>in</span><span style=color:#fff> </span>pairs<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>let</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>s<span style=color:#1f2328>,</span><span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>x<span style=color:#1f2328>[</span><span style=color:#0550ae>0</span><span style=color:#1f2328>],</span><span style=color:#fff> </span>x<span style=color:#1f2328>[</span><span style=color:#0550ae>1</span><span style=color:#1f2328>]);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>let</span><span style=color:#fff> </span>index<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>key<span style=color:#1f2328>.</span>partition_point<span style=color:#1f2328>(</span><span style=color:#0550ae>|</span>x<span style=color:#0550ae>|</span><span style=color:#fff> </span>x<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span><span style=color:#0550ae>&amp;</span>s<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>let</span><span style=color:#fff> </span>index<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>key<span style=color:#1f2328>.</span>get_mut<span style=color:#1f2328>(</span>index<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>match</span><span style=color:#fff> </span>index<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#6639ba>Some</span><span style=color:#1f2328>(</span>x<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span><span style=color:#0550ae>*</span>x<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>min<span style=color:#1f2328>(</span><span style=color:#0550ae>*</span>x<span style=color:#1f2328>,</span><span style=color:#fff> </span>e<span style=color:#1f2328>),</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>_<span style=color:#fff> </span><span style=color:#0550ae>=&gt;</span><span style=color:#fff> </span>key<span style=color:#1f2328>.</span>push<span style=color:#1f2328>(</span>e<span style=color:#1f2328>),</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>key<span style=color:#1f2328>.</span>len<span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#cf222e>as</span><span style=color:#fff> </span><span style=color:#cf222e>i32</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#57606a>#[cfg(feature = </span><span style=color:#0a3069>&#34;local&#34;</span><span style=color:#57606a>)]</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>pub</span><span style=color:#fff> </span><span style=color:#cf222e>fn</span> <span style=color:#6639ba>main</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>let</span><span style=color:#fff> </span>temp<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#6639ba>vec!</span><span style=color:#1f2328>[</span><span style=color:#6639ba>vec!</span><span style=color:#1f2328>[</span><span style=color:#0550ae>1</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0550ae>2</span><span style=color:#1f2328>],</span><span style=color:#fff> </span><span style=color:#6639ba>vec!</span><span style=color:#1f2328>[</span><span style=color:#0550ae>7</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0550ae>8</span><span style=color:#1f2328>],</span><span style=color:#fff> </span><span style=color:#6639ba>vec!</span><span style=color:#1f2328>[</span><span style=color:#0550ae>4</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0550ae>5</span><span style=color:#1f2328>]];</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#6639ba>println!</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;res:</span><span style=color:#0a3069>{}</span><span style=color:#0a3069>&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>Solution::find_longest_chain<span style=color:#1f2328>(</span>temp<span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></div><div class="row middle-xs"><div class=col-xs-12></div></div><div class=site-footer></div></div></div></article><script src=/js/lazyload.min.js></script><script>var lazyImage=new LazyLoad({container:document.getElementById("article")})</script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script></body></html>